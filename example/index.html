<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Test</title>
    <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/512/4883/4883370.png" type="image/png" />
    <style>
      canvas {
        background-color: #000;
        margin: 0 auto;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div>
      <canvas id="canvas" width="1920" height="1080"></canvas>
    </div>

    <script type="module">
      import { Model, setLogLevel, Context } from '../browser/gsots3d.js'
      const ctx = await Context.init('canvas')

      const tableMdl = await Model.parse('objects', 'table.obj')
      const chestMdl = await Model.parse('objects', 'chest.obj')
      ctx.models.addModel(tableMdl)
      ctx.models.addModel(chestMdl)

      const c1 = ctx.createInstance('table')
      c1.position = [10, 0, -2]
      c1.rotateX(1.5)
      const c2 = ctx.createInstance('chest')
      c2.position = [-10, 0, 6]
      c2.rotateX(0)

      ctx.defaultLight.position = [2, 10, 10]

      ctx.camera.position = [11, 24, 30]
      ctx.camera.lookAt = [0, 0, 4]

      ctx.update = (delta) => {
        c1.rotateZ(delta / 1.4)
        c2.rotateY(delta * -1.3)
      }

      ctx.start()
    </script>
  </body>
</html>
